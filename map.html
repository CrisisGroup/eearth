<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>EEARTH Map Dashboard</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
#menu {
position: fixed;
background: rgba(0,0,0,.2);
padding: 30px;
font-family: 'Oswald', sans-serif;
height: 100vh;
width: 20vw;
color: #fff;
}
.legend {
		padding: 10px;
		z-index: 1;
		border-radius: 5px;
		font-family: 'Libre Franklin', sans-serif;
		font-weight: 400;
		font-size: small;
		margin-bottom: 50px;
		width: 100%;
}

.legend h4 {
		margin: 0 0 10px;
}

ul.legend-ul {
	padding: 0;
	list-style-type: none;
}

ul.legend-ul li {
	float: left;
	padding-right: 10px;
}

.legend div span {
		display: inline-block;
		height: 10px;
		width: 30px;
		margin-right: 5px;
}
</style>

<div id="map"></div>

<div id="menu">
	<h1>EEARTH Data Explorer</h1>
<input id="clerett1n001m01o9ev6ybyup" type="radio" name="rtoggle" value="Climate Fragility" checked="checked">
<label for="clerett1n001m01o9ev6ybyup">Climate Fragility</label>
<div id='Chapter00legend' class='legend'>
<ul class='legend-ul'>
<li><div><span style='background-color: #fdfc9a'></span>Low (0 – 1) </div></li>
<li><div><span style='background-color: #fde500'></span>Low - Medium (1 – 2) </div></li>
<li><div><span style='background-color: #fc9a00'></span>Medium - High (2 – 3) </div></li>
<li><div><span style='background-color: #fc0b00'></span>High (3 – 4) </div></li>
<li><div><span style='background-color: #9a0000'></span>Extremely High (4 – 5) </span></div></li>
<li><div><span style='background-color: #8f8f8f'></span>No Data</div></li>
</ul>
</div>
<br />
<input id="clerduuc8001c01mclknl8zrg" type="radio" name="rtoggle" value="Change in Water - 2040 Proj.">
<label for="clerduuc8001c01mclknl8zrg">Change in Water - 2040 Proj.</label>
<div id='Chapter2legend' class='legend'>
<ul class='legend-ul'>
	<li><strong>Decrease</strong></li>
	<li><div><span style='background-color: #ed1310'></span> > 1.7x</div></li>
	<li><div><span style='background-color: #f2704c'></span>1.4x</div></li>
	<li><div><span style='background-color: #f7aa94'></span>1.2x</div></li>
	<li><div><span style='background-color: #d3d4d9'></span>Near Normal</div></li>
	<li><div><span style='background-color: #a8c6d8'></span>1.2x</div></li>
	<li><div><span style='background-color: #74afd1'></span>1.4x</div></li>
	<li><div><span style='background-color: #3889b7'></span> > 1.7x</div></li>
	<li><strong>Increase&nbsp;&nbsp;| </strong></li>
	<li><div><span style='background-color: #8f8f8f'></span>No Data</div></li>
</ul>
</div>
<input id="clerduecl001r01mzgw2b0gju" type="radio" name="rtoggle" value="Seasonal Variability - 2040 Proj.">
<label for="clerduecl001r01mzgw2b0gju">Seasonal Variability - 2040 Proj.</label>
<div id='Chapter3legend' class='legend'>
<ul class='legend-ul'>
<li><div><span style='background-color: #fdfc9a'></span>Low < 0.33</div></li>
<li><div><span style='background-color: #fde500'></span>Low–Medium 0.33 – 0.66</div></li>
<li><div><span style='background-color: #fc9a00'></span>Medium–High 0.66 – 1.00</div></li>
<li><div><span style='background-color: #fc0b00'></span>High 1.00 – 1.33</div></li>
<li><div><span style='background-color: #9a0000'></span>Extremely High > 1.33</span></div></li>
<li><div><span style='background-color: #8f8f8f'></span>No Data</div></li>
</ul>
</div>
<input id="clerdu69b002s01n0hot4qkj8" type="radio" name="rtoggle" value="Water Supply - 2040 Proj.">
<label for="clerdu69b002s01n0hot4qkj8">Water Supply - 2040 Proj.</label>
<div id='Chapter4legend' class='legend'>
<ul class='legend-ul'>
<li><div><span style='background-color: #0007fe'></span> > 1,000 cm</div></li>
<li><div><span style='background-color: #3866e1'></span>300 – 1000 cm</div></li>
<li><div><span style='background-color: #048ffe'></span>100 – 300 cm</div></li>
<li><div><span style='background-color: #03bfff'></span>30 – 100 cm</div></li>
<li><div><span style='background-color: #85ceec'></span>10 – 30 cm</div></li>
<li><div><span style='background-color: #afdfe6'></span>3 – 10 cm</div></li>
<li><div><span style='background-color: #acd7e6'></span>1 – 3 cm</div></li>
<li><div><span style='background-color: #b1c4dc'></span> < 1 cm</div></li>
</ul>
</div>
<br />
<input id="clerdwagg001q01rnmppz2hs5" type="radio" name="rtoggle" value="Change in seasonal variability - 2040 Proj.">
<label for="clerdwagg001q01rnmppz2hs5">Change in seasonal variability - 2040 Proj.</label>
<div id='Chapter5legend' class='legend'>
<ul class='legend-ul'>
<li><strong>Decrease</strong></li>
<li><div><span style='background-color: #3889b7'></span> > 1.3x</div></li>
<li><div><span style='background-color: #74afd1'></span>1.2x</div></li>
<li><div><span style='background-color: #a8c6d8'></span>1.1x</div></li>
<li><div><span style='background-color: #d3d4d9'></span>Near Normal</div></li>
<li><div><span style='background-color: #f7aa94'></span>1.1x</div></li>
<li><div><span style='background-color: #f2704c'></span>1.2x</div></li>
<li><div><span style='background-color: #ed1310'></span> > 1.3x</div></li>
<li><strong>Increase&nbsp;&nbsp;| </strong></li>
<li><div><span style='background-color: #8f8f8f'></span>No Data</div></li>
</ul>
</div>
</div>
<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiZGFsdG9ud2IiLCJhIjoiOWdSSXFQSSJ9.HZyjh4g3TAAOAncwelv9Vw';
const map = new mapboxgl.Map({
container: 'map', // container ID
// Choose from Mapbox's core styles, or make your own style with Mapbox Studio
style: 'mapbox://styles/daltonwb/clerett1n001m01o9ev6ybyup', // style URL
center: [-2.81361, 36.77271], // starting position [lng, lat]
zoom: 2.75 // starting zoom
});

// globe rotation
map.once('load', () => {
	const center = map.getCenter();
	const newCenter = [center.lng + 360, center.lat];
		map.easeTo({ center: newCenter, duration: 180000, easing: n => n });
});

const layerList = document.getElementById('menu');
const inputs = layerList.getElementsByTagName('input');

for (const input of inputs) {
input.onclick = (layer) => {
const layerId = layer.target.id;
map.setStyle('mapbox://styles/daltonwb/' + layerId);
};
}

</script>

</body>
</html>
